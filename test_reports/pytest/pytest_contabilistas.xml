<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="16" skipped="4" tests="22" time="7.263" timestamp="2026-02-19T04:19:30.222041+00:00" hostname="agent-env-4162c576-b516-40af-b7bf-bf5af2a542b6"><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_admin_login" time="0.446"><failure message="AssertionError: assert 'token' in {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZTgxODc4YWMtNDhmOS00M2E5LWFjZmMtZTY3NmRlMGZhN2MyIiwiZW1haWwiOiJhZG1pbkB0dmRlZmxlZXQuY29tIiwicm9sZSI6ImFkbWluIiwiZXhwIjoxNzcxNTYxMTcwfQ.mjqZ6gKbQfdofDsFoxw4z7Qa71E_qa3w2fOYMGdENac', 'token_type': 'bearer', 'user': {'approved': True, 'associated_gestor_id': None, 'associated_partner_id': None, 'campos_customizados': {}, ...}}">backend/tests/test_contabilistas_system.py:73: in test_admin_login
    assert "token" in data
E   AssertionError: assert 'token' in {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZTgxODc4YWMtNDhmOS00M2E5LWFjZmMtZTY3NmRlMGZhN2MyIiwiZW1haWwiOiJhZG1pbkB0dmRlZmxlZXQuY29tIiwicm9sZSI6ImFkbWluIiwiZXhwIjoxNzcxNTYxMTcwfQ.mjqZ6gKbQfdofDsFoxw4z7Qa71E_qa3w2fOYMGdENac', 'token_type': 'bearer', 'user': {'approved': True, 'associated_gestor_id': None, 'associated_partner_id': None, 'campos_customizados': {}, ...}}</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_parceiro_login" time="0.348"><failure message="AssertionError: assert 'token' in {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYzY5M2M5ZWMtZGRkNS00MDBjLWI3OWQtNjFiNjUxZTdiM2ZkIiwiZW1haWwiOiJnZXJhbEB6bWJ1c2luZXMuY29tIiwicm9sZSI6InBhcmNlaXJvIiwiZXhwIjoxNzcxNTYxMTcxfQ.xd_U2VJpNfV1EFul12V7crNo2YIPM0fXT0dxUFFpauY', 'token_type': 'bearer', 'user': {'approved': True, 'associated_gestor_id': None, 'associated_partner_id': None, 'campos_customizados': {}, ...}}">backend/tests/test_contabilistas_system.py:85: in test_parceiro_login
    assert "token" in data
E   AssertionError: assert 'token' in {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYzY5M2M5ZWMtZGRkNS00MDBjLWI3OWQtNjFiNjUxZTdiM2ZkIiwiZW1haWwiOiJnZXJhbEB6bWJ1c2luZXMuY29tIiwicm9sZSI6InBhcmNlaXJvIiwiZXhwIjoxNzcxNTYxMTcxfQ.xd_U2VJpNfV1EFul12V7crNo2YIPM0fXT0dxUFFpauY', 'token_type': 'bearer', 'user': {'approved': True, 'associated_gestor_id': None, 'associated_partner_id': None, 'campos_customizados': {}, ...}}</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_parceiro_create_contabilista" time="0.566"><skipped type="pytest.skip" message="Could not get parceiro user data">/app/backend/tests/test_contabilistas_system.py:93: Could not get parceiro user data</skipped></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_parceiro_list_contabilistas" time="0.142"><failure message="AssertionError: List contabilistas failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:134: in test_parceiro_list_contabilistas
    assert response.status_code == 200, f"List contabilistas failed: {response.text}"
E   AssertionError: List contabilistas failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_admin_list_all_contabilistas" time="0.444"><failure message="AssertionError: Admin list contabilistas failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:150: in test_admin_list_all_contabilistas
    assert response.status_code == 200, f"Admin list contabilistas failed: {response.text}"
E   AssertionError: Admin list contabilistas failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_admin_get_parceiros_list" time="0.121"><failure message="AssertionError: Get parceiros failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:167: in test_admin_get_parceiros_list
    assert response.status_code == 200, f"Get parceiros failed: {response.text}"
E   AssertionError: Get parceiros failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_admin_assign_parceiros_to_contabilista" time="0.103"><skipped type="pytest.skip" message="Could not get contabilistas list">/app/backend/tests/test_contabilistas_system.py:185: Could not get contabilistas list</skipped></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_non_admin_cannot_assign_parceiros" time="0.123"><failure message="AssertionError: Expected 403, got 401&#10;assert 401 == 403&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:233: in test_non_admin_cannot_assign_parceiros
    assert response.status_code == 403, f"Expected 403, got {response.status_code}"
E   AssertionError: Expected 403, got 401
E   assert 401 == 403
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_contabilista_login_and_select_parceiro" time="0.439" /><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_contabilista_access_faturas_fornecedores" time="0.485"><failure message="AssertionError: Faturas fornecedores access failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:305: in test_contabilista_access_faturas_fornecedores
    assert response.status_code == 200, f"Faturas fornecedores access failed: {response.text}"
E   AssertionError: Faturas fornecedores access failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_contabilista_access_recibos_motoristas" time="0.464"><failure message="AssertionError: Recibos motoristas access failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:327: in test_contabilista_access_recibos_motoristas
    assert response.status_code == 200, f"Recibos motoristas access failed: {response.text}"
E   AssertionError: Recibos motoristas access failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_contabilista_access_resumo" time="0.476"><failure message="AssertionError: Resumo access failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:349: in test_contabilista_access_resumo
    assert response.status_code == 200, f"Resumo access failed: {response.text}"
E   AssertionError: Resumo access failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_parceiro_edit_contabilista" time="0.107"><skipped type="pytest.skip" message="Could not get contabilistas list">/app/backend/tests/test_contabilistas_system.py:368: Could not get contabilistas list</skipped></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilistasSystem" name="test_cleanup_test_contabilistas" time="0.129" /><testcase classname="backend.tests.test_contabilistas_system.TestContabilidadeEndpoints" name="test_admin_faturas_fornecedores" time="0.458"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:448: in test_admin_faturas_fornecedores
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilidadeEndpoints" name="test_admin_recibos_motoristas" time="0.107"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:457: in test_admin_recibos_motoristas
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilidadeEndpoints" name="test_admin_faturas_veiculos" time="0.154"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:466: in test_admin_faturas_veiculos
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilidadeEndpoints" name="test_parceiro_faturas_fornecedores" time="0.451"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:475: in test_parceiro_faturas_fornecedores
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestContabilidadeEndpoints" name="test_parceiro_resumo" time="0.125"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:484: in test_parceiro_resumo
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestGestorParceiroSelectorForContabilista" name="test_contabilista_get_parceiros_endpoint" time="0.477"><failure message="AssertionError: Get parceiros failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:512: in test_contabilista_get_parceiros_endpoint
    assert response.status_code == 200, f"Get parceiros failed: {response.text}"
E   AssertionError: Get parceiros failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestGestorParceiroSelectorForContabilista" name="test_contabilista_get_parceiro_ativo_endpoint" time="0.446"><failure message="AssertionError: Get parceiro ativo failed: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_contabilistas_system.py:536: in test_contabilista_get_parceiro_ativo_endpoint
    assert response.status_code == 200, f"Get parceiro ativo failed: {response.text}"
E   AssertionError: Get parceiro ativo failed: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_contabilistas_system.TestGestorParceiroSelectorForContabilista" name="test_contabilista_selecionar_parceiro_endpoint" time="0.449"><skipped type="pytest.skip" message="Could not get parceiros">/app/backend/tests/test_contabilistas_system.py:562: Could not get parceiros</skipped></testcase></testsuite></testsuites>